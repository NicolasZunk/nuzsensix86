<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sensi Generator</title>

<!-- Favicon - M√∫ltiplos formatos para compatibilidade -->
<link rel="shortcut icon" href="favicon.ico">
<link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicon-48x48.png">
<link rel="icon" type="image/png" sizes="64x64" href="favicon-64x64.png">
<link rel="apple-touch-icon" sizes="180x180" href="favicon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicon-192x192.png">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: hsl(230, 25%, 12%);
    --card: hsl(230, 20%, 16%);
    --primary: hsl(48, 100%, 50%);
    --primary-fg: hsl(230, 25%, 8%);
    --secondary: hsl(230, 15%, 22%);
    --secondary-fg: hsl(45, 100%, 90%);
    --foreground: hsl(45, 100%, 90%);
    --muted: hsl(230, 10%, 55%);
    --border: hsl(48, 60%, 35%);
    --radius: 0.75rem;
  }

  body {
    font-family: 'Inter', sans-serif;
    background: #000000;
    color: var(--foreground);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow-x: hidden;
  }

  .font-display { font-family: 'Orbitron', sans-serif; }

  canvas#particles {
    position: fixed; inset: 0; z-index: 0; pointer-events: none;
  }

  .app {
    position: relative; z-index: 1;
    width: 100%; max-width: 420px;
    padding: 2rem 1rem;
    display: flex; flex-direction: column; align-items: center;
  }

  /* Views */
  .view { display: none; flex-direction: column; align-items: center; gap: 2rem; width: 100%; }
  .view.active { display: flex; animation: fadeSlideIn 0.4s cubic-bezier(0.16,1,0.3,1); }

  @keyframes fadeSlideIn {
    from { opacity: 0; transform: translateY(30px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  @keyframes fadeSlideOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-30px) scale(0.95); }
  }
  .view.leaving {
    display: flex;
    animation: fadeSlideOut 0.3s cubic-bezier(0.16,1,0.3,1) forwards;
  }

  /* Icon container */
  .icon-box {
    width: 80px; height: 80px; border-radius: 1rem;
    background: hsla(48,100%,50%,0.1);
    display: inline-flex; align-items: center; justify-content: center;
    border: 2px solid hsla(48,100%,50%,0.7);
    box-shadow: 0 0 30px hsla(48,100%,50%,0.15);
    margin-bottom: 1rem;
    animation: iconRock 4s ease-in-out infinite;
  }
  @keyframes iconRock {
    0%,100% { transform: rotate(0deg); }
    25% { transform: rotate(5deg); }
    75% { transform: rotate(-5deg); }
  }
  .icon-box svg {
    width: 40px; height: 40px; color: var(--primary);
    animation: iconPulse 2s ease-in-out infinite;
  }
  @keyframes iconPulse {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  /* Title glow */
  .title {
    font-size: 1.8rem; font-weight: 900; color: var(--primary);
    letter-spacing: 0.1em; text-align: center;
    animation: titleGlow 3s ease-in-out infinite;
  }
  @keyframes titleGlow {
    0%,100% { text-shadow: 0 0 10px hsla(48,100%,50%,0.2); }
    50% { text-shadow: 0 0 25px hsla(48,100%,50%,0.5); }
  }

  .subtitle { color: var(--muted); margin-top: 0.5rem; text-align: center; }

  /* Device selector */
  .device-label {
    font-size: 0.75rem; color: var(--primary); letter-spacing: 0.15em;
    text-transform: uppercase; margin-bottom: 0.75rem;
  }
  .device-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; width: 100%;
  }
  .device-btn {
    padding: 0.625rem 1rem; border-radius: 0.5rem;
    font-size: 0.875rem; font-weight: 500; cursor: pointer;
    background: var(--secondary); color: var(--secondary-fg);
    border: 1px solid hsla(48,60%,35%,0.4);
    transition: all 0.2s; font-family: 'Inter', sans-serif;
  }
  .device-btn:hover { transform: scale(1.04) translateY(-2px); }
  .device-btn:active { transform: scale(0.97); }
  .device-btn.selected {
    background: var(--primary); color: var(--primary-fg);
    border: 2px solid hsla(48,100%,50%,0.7);
    box-shadow: 0 0 20px hsla(48,100%,50%,0.4);
  }

  /* Buttons */
  .btn {
    width: 100%; padding: 0.875rem; border-radius: var(--radius);
    font-family: 'Orbitron', sans-serif; font-weight: 700;
    letter-spacing: 0.1em; text-transform: uppercase;
    cursor: pointer; border: none;
    display: flex; align-items: center; justify-content: center; gap: 0.5rem;
    transition: all 0.2s; position: relative; overflow: hidden;
    font-size: 0.875rem;
  }
  .btn:hover { transform: scale(1.03) translateY(-2px); }
  .btn:active { transform: scale(0.97); }

  .btn-primary {
    background: var(--primary); color: var(--primary-fg);
    border: 2px solid hsla(48,100%,50%,0.7);
    box-shadow: 0 0 20px hsla(48,100%,50%,0.4);
    font-size: 1.1rem; padding: 1rem;
  }
  .btn-secondary {
    background: var(--secondary); color: var(--secondary-fg);
    border: 1px solid hsla(48,60%,35%,0.6);
  }

  /* Shimmer on buttons */
  .btn-primary::after {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(90deg, transparent, hsla(0,0%,100%,0.2), transparent);
    animation: shimmer 2s linear infinite;
    animation-delay: var(--shimmer-delay, 0s);
  }
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    50%,100% { transform: translateX(200%); }
  }

  /* Sensi Card */
  .sensi-card {
    width: 100%; border-radius: 1rem; padding: 1.5rem;
    background: hsla(230,20%,16%,0.9);
    backdrop-filter: blur(12px);
    border: 2px solid hsla(48,100%,50%,0.7);
    box-shadow: 0 0 30px hsla(48,100%,50%,0.2);
    position: relative; overflow: hidden;
    animation: cardIn 0.5s cubic-bezier(0.16,1,0.3,1);
  }
  @keyframes cardIn {
    from { opacity: 0; transform: scale(0.9) perspective(600px) rotateX(15deg); }
    to { opacity: 1; transform: scale(1) perspective(600px) rotateX(0); }
  }
  .sensi-card .shimmer-overlay {
    position: absolute; inset: 0;
    background: linear-gradient(90deg, transparent, hsla(48,100%,50%,0.05), transparent);
    animation: shimmer 2.5s linear infinite;
  }
  .card-title { text-align: center; margin-bottom: 1.25rem; position: relative; z-index: 1; }
  .card-title h2 {
    font-size: 1.5rem; font-weight: 900; color: var(--primary);
    letter-spacing: 0.1em;
    animation: titleGlow 2s ease-in-out infinite;
  }
  .card-title p { color: var(--muted); font-size: 0.875rem; margin-top: 0.25rem; }

  .sensi-row {
    display: flex; 
    flex-direction: column;
    padding: 1rem 0.75rem;
    border-bottom: 1px solid hsla(48,60%,35%,0.3);
    position: relative; z-index: 1;
    border-radius: 0.5rem;
    transition: all 0.2s;
    opacity: 0; transform: translateX(-30px);
    animation: rowIn 0.4s cubic-bezier(0.16,1,0.3,1) forwards;
    gap: 0.75rem;
  }
  .sensi-row:last-child { border-bottom: none; }
  .sensi-row:hover { background: hsla(48,100%,50%,0.05); }

  @keyframes rowIn {
    to { opacity: 1; transform: translateX(0); }
  }

  .sensi-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .sensi-label { 
    font-weight: 600; 
    font-size: 0.95rem;
    color: var(--foreground);
  }
  
  .sensi-value {
    font-family: 'Orbitron', sans-serif; 
    font-weight: 700;
    font-size: 1.1rem; 
    color: var(--primary);
    font-variant-numeric: tabular-nums;
    min-width: 50px;
    text-align: right;
  }

  .slider-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    width: 100%;
  }

  .slider-wrapper {
    flex: 1;
    position: relative;
    height: 8px;
    background: var(--secondary);
    border-radius: 10px;
    overflow: hidden;
  }

  .slider-track {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--primary), hsla(48,100%,60%,1));
    border-radius: 10px;
  }

  .slider {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background: var(--primary);
    border: 3px solid var(--primary-fg);
    border-radius: 50%;
    box-shadow: 0 0 15px hsla(48,100%,50%,0.5);
  }

  /* Spin animation for refresh icon */
  .spin-icon { display: inline-flex; transition: transform 0.6s; }
  .spin-icon.spinning { transform: rotate(360deg); }

  /* Responsive */
  @media (max-width: 480px) {
    .title { font-size: 1.4rem; }
    .sensi-card { padding: 1.25rem; }
  }

  .toast {
    position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%);
    background: var(--primary); color: var(--primary-fg); padding: 1rem 2rem;
    border-radius: 0.75rem; font-weight: 700; letter-spacing: 0.05em;
    box-shadow: 0 8px 30px hsla(48,100%,50%,0.5);
    opacity: 0; pointer-events: none;
    transition: all 0.4s cubic-bezier(0.16,1,0.3,1);
    z-index: 9999;
  }
  .toast.show { opacity: 1; transform: translateX(-50%) translateY(-10px); }

  .buttons-group { width: 100%; display: flex; flex-direction: column; gap: 0.75rem; }
  
  @keyframes slideIn {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  }
  
  @keyframes slideOut {
    from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    to { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
  }
</style>
</head>

<body>
<canvas id="particles"></canvas>

<div class="app">
  <!-- HOME VIEW -->
  <div id="homeView" class="view active">
    <div style="text-align:center">
      <div class="icon-box">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg>
      </div>
      <h1 class="title font-display">SENSI GENERATOR</h1>
      <p class="subtitle">Gere a melhor sensibilidade para o seu dispositivo</p>
    </div>

    <div style="width:100%">
      <p class="font-display device-label">Selecione o Dispositivo</p>
      <div class="device-grid" id="deviceGrid"></div>
    </div>

    <button class="btn btn-primary" onclick="generateSensi()">
      <span style="position:relative;z-index:1">üéØ GERAR SENSI</span>
    </button>
  </div>

  <!-- RESULT VIEW -->
  <div id="resultView" class="view">
    <div class="sensi-card" id="sensiCard">
      <div class="shimmer-overlay"></div>
      <div class="card-title">
        <h2 class="font-display" id="sensiTitle">SENSI #1</h2>
        <p id="sensiDevice">Motorola g54</p>
      </div>
      <div id="sensiRows"></div>
    </div>

    <div class="buttons-group">
      <button class="btn btn-primary" style="--shimmer-delay:1s" onclick="copySensi()">
        <svg style="width:16px;height:16px;position:relative;z-index:1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        <span style="position:relative;z-index:1">COPIAR SENSI</span>
      </button>
      <button class="btn btn-secondary" onclick="regenerateSensi()">
        <span class="spin-icon" id="refreshIcon">
          <svg style="width:16px;height:16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
        </span>
        GERAR OUTRA SENSI
      </button>
      <button class="btn btn-secondary" onclick="goHome()">
        <svg style="width:16px;height:16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
        VOLTAR AO GERADOR
      </button>
    </div>
  </div>
</div>

<div class="toast" id="toast">Sensi copiada! üéØ</div>

<script>
// ========== STATE ==========
const IPHONE_DEVICES = [
  "iPhone 7 P",
  "iPhone 8 P", 
  "iPhone X R/S",
  "iPhone 11 / PRO M",
  "iPhone 12 / PRO M",
  "iPhone 13 / PRO M",
  "iPhone 14 / PRO M",
  "iPhone 15 / PRO M",
  "iPhone 16 / PRO M",
  "iPhone 17 / PRO M"
];

const SAMSUNG_DEVICES = [
  "Galaxy S24",
  "Galaxy S24+",
  "Galaxy S24 Ultra",
  "Galaxy S23",
  "Galaxy S23+",
  "Galaxy S23 Ultra",
  "Galaxy S22",
  "Galaxy S21",
  "Galaxy S20",
  "Galaxy Z Fold",
  "Galaxy Z Flip",
  "Galaxy A54",
  "Galaxy A34",
  "Galaxy A24",
  "Galaxy A14",
  "Galaxy A73",
  "Galaxy A53",
  "Galaxy A33",
  "Galaxy M54",
  "Galaxy M34",
  "Galaxy M14",
  "Galaxy F54",
  "Galaxy F34",
  "Galaxy F14"
];

const XIAOMI_DEVICES = [
  "Xiaomi 14",
  "Xiaomi 14 Pro",
  "Xiaomi 14 Ultra",
  "Xiaomi 13",
  "Xiaomi 13 Pro",
  "Xiaomi 13 Ultra",
  "Xiaomi 12",
  "Xiaomi 11",
  "Xiaomi 10"
];

const MOTOROLA_DEVICES = [
  "Moto G84",
  "Moto G73",
  "Moto G54",
  "Moto G34",
  "Moto G24",
  "Moto G14",
  "Moto Edge 40",
  "Moto Edge 30",
  "Moto Edge 20",
  "Moto E13",
  "Moto E22",
  "Razr (dobr√°vel)"
];

const REALME_DEVICES = [
  "Realme GT 5",
  "Realme GT Neo",
  "Realme GT Master",
  "Realme 11",
  "Realme 10",
  "Realme 9",
  "Realme 8",
  "Realme C55",
  "Realme C51",
  "Realme C35",
  "Realme C30",
  "Realme Narzo 60",
  "Realme Narzo 50"
];

const POCO_DEVICES = [
  "POCO F5",
  "POCO F4",
  "POCO F3",
  "POCO X6",
  "POCO X5",
  "POCO X4",
  "POCO M6",
  "POCO M5",
  "POCO M4",
  "POCO C65",
  "POCO C55",
  "POCO C51"
];

const ONEPLUS_DEVICES = [
  "OnePlus 12",
  "OnePlus 11",
  "OnePlus 10",
  "OnePlus 9",
  "OnePlus Nord 3",
  "OnePlus Nord CE 3",
  "OnePlus Nord 2",
  "OnePlus Nord N30",
  "OnePlus Nord N20"
];

const ASUS_ROG_DEVICES = [
  "ROG Phone 8",
  "ROG Phone 7",
  "ROG Phone 6",
  "ROG Phone 5",
  "Zenfone 10",
  "Zenfone 9",
  "Zenfone 8"
];

const REDMI_DEVICES = [
  "Redmi Note 13 Pro",
  "Redmi Note 13 Pro+",
  "Redmi Note 12 Pro",
  "Redmi Note 12 Pro+",
  "Redmi Note 11",
  "Redmi 13",
  "Redmi 12",
  "Redmi 11",
  "Redmi 10",
  "Redmi A3",
  "Redmi A2",
  "Redmi A1"
];

const DEFAULT_DEVICES = ["Motorola g54","iPhone 15","Samsung S24","Xiaomi 14","Poco X6","iPad Air","Outro"];
const LABELS = ["Geral","Ponto Vermelho","Mira 2x","Mira 4x","Mira AWM","Bot√£o de atirar"];

let DEVICES = DEFAULT_DEVICES;
let selectedDevice = "";
let sensiCounter = 0;
let currentValues = [];
let phoneBrand = "";
let sensiType = "normal"; // tipo de sensi (normal ou premium)
let hasGeneratedOnce = false; // controla se j√° gerou uma sensi
let normalSensiAttempts = 0; // contador de tentativas para sensi normal

// ========== GET BRAND FROM URL ==========
function getBrandFromURL() {
  const params = new URLSearchParams(window.location.search);
  return params.get('brand') || '';
}

function getSensiTypeFromURL() {
  const params = new URLSearchParams(window.location.search);
  return params.get('type') || 'normal';
}

// ========== INITIALIZE ==========
function init() {
  phoneBrand = getBrandFromURL();
  sensiType = getSensiTypeFromURL();
  
  // Carrega o contador de tentativas do localStorage (apenas para sensi normal)
  if (sensiType === 'normal') {
    const storedAttempts = localStorage.getItem('normalSensiAttempts');
    normalSensiAttempts = storedAttempts ? parseInt(storedAttempts) : 0;
  }
  
  if (phoneBrand === 'iPhone') {
    DEVICES = IPHONE_DEVICES;
    selectedDevice = IPHONE_DEVICES[0];
  } else if (phoneBrand === 'Samsung') {
    DEVICES = SAMSUNG_DEVICES;
    selectedDevice = SAMSUNG_DEVICES[0];
  } else if (phoneBrand === 'Xiaomi') {
    DEVICES = XIAOMI_DEVICES;
    selectedDevice = XIAOMI_DEVICES[0];
  } else if (phoneBrand === 'Motorola') {
    DEVICES = MOTOROLA_DEVICES;
    selectedDevice = MOTOROLA_DEVICES[0];
  } else if (phoneBrand === 'Realme') {
    DEVICES = REALME_DEVICES;
    selectedDevice = REALME_DEVICES[0];
  } else if (phoneBrand === 'POCO') {
    DEVICES = POCO_DEVICES;
    selectedDevice = POCO_DEVICES[0];
  } else if (phoneBrand === 'OnePlus') {
    DEVICES = ONEPLUS_DEVICES;
    selectedDevice = ONEPLUS_DEVICES[0];
  } else if (phoneBrand === 'ASUS ROG') {
    DEVICES = ASUS_ROG_DEVICES;
    selectedDevice = ASUS_ROG_DEVICES[0];
  } else if (phoneBrand === 'Redmi') {
    DEVICES = REDMI_DEVICES;
    selectedDevice = REDMI_DEVICES[0];
  } else {
    DEVICES = DEFAULT_DEVICES;
    selectedDevice = DEFAULT_DEVICES[0];
  }
  
  renderDeviceGrid();
}

// ========== DEVICES ==========
function renderDeviceGrid() {
  const grid = document.getElementById("deviceGrid");
  grid.innerHTML = "";
  
  DEVICES.forEach((d, i) => {
    const btn = document.createElement("button");
    btn.className = "device-btn" + (d === selectedDevice ? " selected" : "");
    btn.textContent = "üì± " + d;
    btn.style.animationDelay = (i * 0.05) + "s";
    btn.onclick = () => selectDevice(d);
    btn.id = "dev-" + i;
    grid.appendChild(btn);
  });
}

function selectDevice(d) {
  selectedDevice = d;
  document.querySelectorAll(".device-btn").forEach((b, i) => {
    b.className = "device-btn" + (DEVICES[i] === d ? " selected" : "");
  });
}

// ========== GENERATION ==========
function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

function generateSensi() {
  // Verifica limite de tentativas para sensi normal (3¬™ tentativa bloqueada)
  if (sensiType === 'normal') {
    if (normalSensiAttempts >= 2) {
      showUpgradeToPremiumNotification();
      return;
    }
    normalSensiAttempts++;
    localStorage.setItem('normalSensiAttempts', normalSensiAttempts);
  }
  
  sensiCounter++;
  hasGeneratedOnce = true;
  // Gera valores normais (100-200) para os primeiros 5 itens
  currentValues = LABELS.slice(0, 5).map(l => ({ label: l, value: rand(100, 200) }));
  // Adiciona o √∫ltimo item "Bot√£o de atirar" com range 20-150
  currentValues.push({ label: LABELS[5], value: rand(20, 150) });
  renderResult();
  switchView("resultView");
}

function regenerateSensi() {
  // Se for sensi normal e j√° gerou uma vez, bloqueia
  if (sensiType === 'normal' && hasGeneratedOnce) {
    showUpgradeNotification();
    return;
  }
  
  sensiCounter++;
  // Gera valores normais (100-200) para os primeiros 5 itens
  currentValues = LABELS.slice(0, 5).map(l => ({ label: l, value: rand(100, 200) }));
  // Adiciona o √∫ltimo item "Bot√£o de atirar" com range 20-150
  currentValues.push({ label: LABELS[5], value: rand(20, 150) });
  const icon = document.getElementById("refreshIcon");
  icon.classList.add("spinning");
  setTimeout(() => icon.classList.remove("spinning"), 600);
  renderResult();
}

function showUpgradeNotification() {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    color: #FFD700;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 0 50px rgba(255, 215, 0, 0.3);
    border: 2px solid #FFD700;
    z-index: 10000;
    text-align: center;
    min-width: 300px;
    animation: slideIn 0.4s cubic-bezier(0.16,1,0.3,1);
  `;
  
  notification.innerHTML = `
    <div style="font-size: 3rem; margin-bottom: 1rem;">üîí</div>
    <h2 style="font-family: 'Orbitron', sans-serif; font-size: 1.5rem; margin-bottom: 1rem; color: #FFD700;">
      RECURSO BLOQUEADO
    </h2>
    <p style="font-size: 1rem; margin-bottom: 1.5rem; color: #ccc;">
      Voc√™ j√° gerou uma sensi na vers√£o Normal!
    </p>
    <p style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1.5rem; color: #FFD700;">
      ‚≠ê Atualize para SENSI PREMIUM ‚≠ê
    </p>
    <button onclick="closeNotification()" style="
      background: #FFD700;
      color: #1a1a2e;
      border: none;
      padding: 0.75rem 2rem;
      border-radius: 0.5rem;
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s;
    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
      ENTENDI
    </button>
  `;
  
  document.body.appendChild(notification);
}

function closeNotification() {
  const notification = document.querySelector('div[style*="position: fixed"]');
  if (notification && notification.innerHTML.includes('RECURSO BLOQUEADO')) {
    notification.style.animation = 'slideOut 0.3s cubic-bezier(0.16,1,0.3,1) forwards';
    setTimeout(() => notification.remove(), 300);
  }
}
function showUpgradeToPremiumNotification() {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    color: #FFD700;
    padding: 2.5rem;
    border-radius: 1rem;
    box-shadow: 0 0 50px rgba(255, 215, 0, 0.4);
    border: 3px solid #FFD700;
    z-index: 10000;
    text-align: center;
    min-width: 320px;
    animation: slideIn 0.4s cubic-bezier(0.16,1,0.3,1);
  `;
  
  notification.innerHTML = `
    <div style="font-size: 4rem; margin-bottom: 1rem;">‚≠ê</div>
    <h2 style="font-family: 'Orbitron', sans-serif; font-size: 1.6rem; margin-bottom: 1rem; color: #FFD700;">
      ATUALIZE PARA VERS√ÉO PREMIUM
    </h2>
    <p style="font-size: 1.1rem; margin-bottom: 1rem; color: #ccc;">
      Voc√™ j√° usou suas 2 gera√ß√µes gratuitas!
    </p>
    <p style="font-size: 1rem; margin-bottom: 1.5rem; color: #aaa; line-height: 1.5;">
      Desbloqueie <strong style="color: #FFD700;">gera√ß√µes ilimitadas</strong> e recursos exclusivos com a vers√£o Premium!
    </p>
    <button onclick="closePremiumNotification()" style="
      background: #FFD700;
      color: #1a1a2e;
      border: none;
      padding: 0.875rem 2.5rem;
      border-radius: 0.5rem;
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      cursor: pointer;
      font-size: 1.1rem;
      transition: all 0.2s;
      margin-top: 0.5rem;
    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
      ENTENDI
    </button>
  `;
  
  document.body.appendChild(notification);
}

function closePremiumNotification() {
  const notification = document.querySelector('div[style*="position: fixed"]');
  if (notification && notification.innerHTML.includes('ATUALIZE PARA VERS√ÉO PREMIUM')) {
    notification.style.animation = 'slideOut 0.3s cubic-bezier(0.16,1,0.3,1) forwards';
    setTimeout(() => notification.remove(), 300);
  }
}


function renderResult() {
  document.getElementById("sensiTitle").textContent = "SENSI #" + sensiCounter;
  document.getElementById("sensiDevice").textContent = selectedDevice;
  const container = document.getElementById("sensiRows");
  container.innerHTML = "";
  currentValues.forEach((item, i) => {
    const row = document.createElement("div");
    row.className = "sensi-row";
    row.style.animationDelay = (i * 0.1) + "s";
    
    // Calcula a porcentagem baseada no range de cada item
    let percentage;
    if (i === 5) {
      // Bot√£o de atirar: range 20-150
      percentage = ((item.value - 20) / 130) * 100;
    } else {
      // Outros: range 50-200
      percentage = ((item.value - 50) / 150) * 100;
    }
    
    row.innerHTML = `
      <div class="sensi-header">
        <span class="sensi-label">${item.label}</span>
        <span class="sensi-value" id="val-${i}">0</span>
      </div>
      <div class="slider-container">
        <div class="slider-wrapper">
          <div class="slider-track" style="width: ${percentage}%"></div>
          <div class="slider" style="left: ${percentage}%"></div>
        </div>
      </div>
    `;
    container.appendChild(row);
    // CountUp animation
    animateCount("val-" + i, item.value);
  });
}

function animateCount(id, target) {
  const el = document.getElementById(id);
  const duration = 600;
  const start = performance.now();
  function step(now) {
    const p = Math.min((now - start) / duration, 1);
    const eased = 1 - Math.pow(1 - p, 3);
    el.textContent = Math.round(eased * target);
    if (p < 1) requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

// ========== COPY ==========
function copySensi() {
  let text = "üéØ SENSI #" + sensiCounter + " - " + selectedDevice + "\n\n";
  currentValues.forEach(v => { text += v.label + ": " + v.value + "\n"; });
  text += "\nGerado por Sensi Generator";
  navigator.clipboard.writeText(text);
  showToast();
}

function showToast() {
  const t = document.getElementById("toast");
  t.classList.add("show");
  setTimeout(() => t.classList.remove("show"), 2000);
}

// ========== NAVIGATION ==========
function switchView(targetId) {
  const views = document.querySelectorAll(".view");
  views.forEach(v => {
    if (v.classList.contains("active")) {
      v.classList.remove("active");
      v.classList.add("leaving");
      setTimeout(() => v.classList.remove("leaving"), 300);
    }
  });
  setTimeout(() => {
    document.getElementById(targetId).classList.add("active");
  }, 300);
}

function goHome() { 
  // Se for sensi normal, redireciona para index.html
  if (sensiType === 'normal') {
    window.location.href = 'index.html';
  } else {
    switchView("homeView");
  }
}

// ========== PARTICLES ==========
(function() {
  const canvas = document.getElementById("particles");
  const ctx = canvas.getContext("2d");
  let particles = [];

  function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
  resize();
  window.addEventListener("resize", resize);

  for (let i = 0; i < 60; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      vx: (Math.random() - 0.5) * 0.4,
      vy: (Math.random() - 0.5) * 0.4,
      size: Math.random() * 2.5 + 0.5,
      alpha: Math.random() * 0.5 + 0.1,
      pulse: Math.random() * Math.PI * 2
    });
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      p.x += p.vx; p.y += p.vy; p.pulse += 0.02;
      if (p.x < 0) p.x = canvas.width;
      if (p.x > canvas.width) p.x = 0;
      if (p.y < 0) p.y = canvas.height;
      if (p.y > canvas.height) p.y = 0;
      const glow = Math.sin(p.pulse) * 0.2 + 0.8;
      const a = p.alpha * glow;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      ctx.fillStyle = "hsla(48,100%,50%," + a + ")";
      ctx.shadowBlur = 8;
      ctx.shadowColor = "hsla(48,100%,50%," + (a * 0.6) + ")";
      ctx.fill();
      ctx.shadowBlur = 0;
    });
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 120) {
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.strokeStyle = "hsla(48,100%,50%," + (0.08 * (1 - dist / 120)) + ")";
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

// ========== INITIALIZE ON LOAD ==========
init();
</script>

<!-- PROTE√á√ÉO ANTI-INSPE√á√ÉO -->
<script>
  // Desabilita o clique direito
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
    return false;
  });

  // Desabilita teclas de atalho para DevTools
  document.addEventListener('keydown', function(e) {
    // F12
    if (e.keyCode === 123) {
      e.preventDefault();
      return false;
    }
    // Ctrl+Shift+I
    if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
      e.preventDefault();
      return false;
    }
    // Ctrl+Shift+C
    if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
      e.preventDefault();
      return false;
    }
    // Ctrl+Shift+J
    if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
      e.preventDefault();
      return false;
    }
    // Ctrl+U (view source)
    if (e.ctrlKey && e.keyCode === 85) {
      e.preventDefault();
      return false;
    }
    // Ctrl+S (save)
    if (e.ctrlKey && e.keyCode === 83) {
      e.preventDefault();
      return false;
    }
  });

  // Detecta se o DevTools est√° aberto
  const devtools = { isOpen: false };
  const threshold = 160;

  setInterval(function() {
    if (window.outerWidth - window.innerWidth > threshold || 
        window.outerHeight - window.innerHeight > threshold) {
      devtools.isOpen = true;
    } else {
      devtools.isOpen = false;
    }
  }, 500);

  // Desabilita console.log
  console.log = function() {};
  console.error = function() {};
  console.warn = function() {};
  console.info = function() {};
</script>
</body>

</html>
